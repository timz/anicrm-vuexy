# CLAUDE.md

Этот файл предоставляет руководство для Claude Code (claude.ai/code) при работе с кодом в этом репозитории.

## ВАЖНО: Цель проекта

**Это проект по переносу функциональности из full-version в starter-kit.**

### Ключевые правила:
- **НЕ РЕДАКТИРУЕМ full-version** - используем только как эталон для копирования логики
- **ВСЯ РАБОТА ведется в starter-kit** - туда переносим компоненты и функциональность
- **full-version** - источник для изучения реализации
- **starter-kit** - целевая директория для всех изменений

## Структура проекта

Это админ-шаблон Vue.js 3 (Vuexy) с поддержкой TypeScript, содержащий две основные версии:
- **full-version**: Полный админ-шаблон со всеми функциями и компонентами (ТОЛЬКО ДЛЯ ЧТЕНИЯ)
- **starter-kit**: Минимальная версия для начала новых проектов (РАБОЧАЯ ДИРЕКТОРИЯ)

## Команды разработки

**ВАЖНО: Используем pnpm вместо npm для управления зависимостями!**

### Full Version (в директории `full-version/`) - ТОЛЬКО ДЛЯ СПРАВКИ
```bash
# Установка зависимостей
pnpm install

# Запуск сервера разработки
pnpm run dev

# Сборка для продакшена
pnpm run build

# Проверка типов
pnpm run typecheck

# Линтинг и исправление кода
pnpm run lint

# Сборка библиотеки иконок
pnpm run build:icons
```

### Starter Kit (в директории `starter-kit/`) - ОСНОВНАЯ РАБОЧАЯ ДИРЕКТОРИЯ
Те же команды, что и для full version, но с использованием pnpm.

## Обзор архитектуры

### Основные библиотеки и фреймворк
- **Vue 3** с Composition API
- **TypeScript** для типобезопасности
- **Vuetify 3** как библиотека UI-компонентов
- **Vue Router** с авто-роутингом через `unplugin-vue-router`
- **Pinia** для управления состоянием
- **Vite** как инструмент сборки

### Ключевая структура директорий
- `src/@core/`: Основные утилиты, компоненты и composables, общие для всего приложения
- `src/@layouts/`: Компоненты макетов и логика, специфичная для макетов
- `src/plugins/`: Плагины приложения (router, i18n, fake-api, конфигурация vuetify)
- `src/pages/`: Компоненты страниц с авто-роутингом
- `src/components/`: Переиспользуемые Vue-компоненты
- `src/composables/`: Vue composables для общей логики
- `src/views/`: Компоненты представлений (демо, примеры)
- `src/assets/`: Статические ресурсы, включая стили и изображения

### Алиасы путей
- `@/`: Ссылается на `src/`
- `@core/`: Ссылается на `src/@core/`
- `@layouts/`: Ссылается на `src/@layouts/`
- `@images/`: Ссылается на `src/assets/images/`
- `@styles/`: Ссылается на `src/assets/styles/`
- `@db/`: Ссылается на `src/plugins/fake-api/handlers/`
- `@api-utils/`: Ссылается на `src/plugins/fake-api/utils/`

### Авто-импорты
Проект использует `unplugin-auto-import` для автоматического импорта:
- Функций Vue composition API
- Утилит VueUse
- Функций Vue Router
- Хранилищ Pinia
- Функций i18n
- Пользовательских composables из `@core/utils`, `@core/composable/` и `src/composables/`

### Роутинг
- Использует файловый роутинг с `unplugin-vue-router`
- Страницы в `src/pages/` автоматически регистрируются как маршруты
- Имена маршрутов конвертируются из PascalCase в kebab-case
- Макеты обрабатываются через `vite-plugin-vue-meta-layouts`

### Аутентификация и авторизация
- CASL интегрирован для контроля доступа на основе ролей
- JWT-аутентификация с обработчиками fake API
- Утилиты аутентификации в `src/plugins/casl/`

### API и данные
- Реализация Mock API в `src/plugins/fake-api/`
- MSW (Mock Service Worker) для имитации API
- Ofetch для HTTP-запросов

### Стилизация
- SCSS с темизацией Vuetify
- CSS-переменные настроены в `src/assets/styles/variables/_vuetify.scss`
- Утилитарные классы и пользовательские стили в `src/@core/scss/`

### Система иконок
- Интеграция Iconify с автогенерируемыми компонентами иконок
- Иконки из Material Design Icons, Font Awesome и Tabler
- Пользовательская система сборки иконок через `npm run build:icons`

### Качество кода
- ESLint с пользовательскими правилами и конфигурациями Vue/TypeScript
- Строгая конфигурация TypeScript
- Пользовательские правила ESLint для соблюдения соглашений проекта (алиасы путей, именование компонентов)
- Stylelint для линтинга SCSS