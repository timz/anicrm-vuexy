# –í–æ—Ä–∫—Ñ–ª–æ—É –≤—ã–±–æ—Ä–∞ –∏ –æ–ø–ª–∞—Ç—ã –ø–æ–¥–ø–∏—Å–∫–∏ AniCRM

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–¢–∞—Ä–∏—Ñ–Ω–∞—è —Å–µ—Ç–∫–∞](#—Ç–∞—Ä–∏—Ñ–Ω–∞—è-—Å–µ—Ç–∫–∞)
3. [–ü—Ä–æ—Ü–µ—Å—Å—ã –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã](#–ø—Ä–æ—Ü–µ—Å—Å—ã-–∏-–¥–∏–∞–≥—Ä–∞–º–º—ã)
4. [–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

---

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- ‚ùå **–ù–µ—Ç –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è** - –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –≤—Ä—É—á–Ω—É—é
- üí≥ **–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ YooKassa** - —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- ‚è∞ **–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π** - –∑–∞ 3 –¥–Ω—è –∏ –≤ –¥–µ–Ω—å –æ–∫–æ–Ω—á–∞–Ω–∏—è
- üéÅ **Grace Period** - 7 –¥–Ω–µ–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –ø–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–ü–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑:** YooKassa API
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** Email

---

## –¢–∞—Ä–∏—Ñ–Ω–∞—è —Å–µ—Ç–∫–∞

### Trial (–ü—Ä–æ–±–Ω—ã–π –ø–µ—Ä–∏–æ–¥)

- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 14 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞—Ä–∏—Ñ–∞ "VIP"
- **–õ–∏–º–∏—Ç—ã:** –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- **–¶–µ–ª—å:** –î–∞—Ç—å –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

### –°—Ç–∞—Ä—Ç–æ–≤—ã–π

**–¶–µ–Ω–∞:** 1 990‚ÇΩ/–º–µ—Å—è—Ü, 19 900‚ÇΩ/–≥–æ–¥ (—Å–∫–∏–¥–∫–∞ 17%)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –î–æ 3 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–æ 100 –∫–ª–∏–µ–Ω—Ç–æ–≤
- –î–æ 10 –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π/–º–µ—Å—è—Ü
- –ë–∞–∑–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- Email –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (48 —á–∞—Å–æ–≤)

### –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª ‚≠ê (Most Popular)

**–¶–µ–Ω–∞:** 4 990‚ÇΩ/–º–µ—Å—è—Ü, 49 900‚ÇΩ/–≥–æ–¥ (—Å–∫–∏–¥–∫–∞ 17%)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –î–æ 10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (24 —á–∞—Å–∞)
- –®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### VIP

**–¶–µ–Ω–∞:** 9 990‚ÇΩ/–º–µ—Å—è—Ü, 99 900‚ÇΩ/–≥–æ–¥ (—Å–∫–∏–¥–∫–∞ 17%)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –í—Å–µ –∏–∑ "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª"
- –î–æ 50 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∏—á
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7

**–í–∞–∂–Ω–æ:** –í—Å–µ —Ü–µ–Ω—ã —É–∫–∞–∑–∞–Ω—ã –≤ —Ä—É–±–ª—è—Ö. –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑ YooKassa.

---

## –ü—Ä–æ—Ü–µ—Å—Å—ã –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã

### 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ç—Ä–∏–∞–ª–∞

```mermaid
sequenceDiagram
    participant U as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant F as Frontend
    participant B as Backend
    participant E as Email Service
    
    U->>F: –ö–ª–∏–∫ "–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
    F->>U: –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    U->>F: –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (email, –ø–∞—Ä–æ–ª—å, –∫–æ–º–ø–∞–Ω–∏—è)
    F->>B: POST /api/auth/register
    
    B->>B: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    B->>B: –°–æ–∑–¥–∞—Ç—å subscription (status: trial)
    B->>B: –°–æ–∑–¥–∞—Ç—å workspace
    B->>E: –û—Ç–ø—Ä–∞–≤–∏—Ç—å welcome email
    B->>E: –û—Ç–ø—Ä–∞–≤–∏—Ç—å verification email (—Ñ–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞)
    B->>B: –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–î–µ–Ω—å 11 –∏ –î–µ–Ω—å 14)
    
    B-->>F: 201 Created (user, subscription)
    F->>U: –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –≤ —Å–∏—Å—Ç–µ–º—É —Å —Ç—É—Ä–æ–º
    
    Note over U,E: Trial –∞–∫—Ç–∏–≤–µ–Ω 14 –¥–Ω–µ–π<br/>–ü–ª–∞–Ω: VIP (–≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏)<br/>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: –∑–∞ 3 –¥–Ω—è –∏ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å
    
    opt –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email (–≤ —Ñ–æ–Ω–µ)
        U->>F: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email –ø–æ —Å—Å—ã–ª–∫–µ
        F->>B: POST /api/auth/verify-email
        B-->>F: 200 OK
        F->>U: –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
    end
```

### 2. –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ –∏ –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ YooKassa

```mermaid
sequenceDiagram
    participant U as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant F as Frontend
    participant B as Backend
    participant Y as YooKassa API
    participant W as Webhook Handler
    participant E as Email Service
    
    U->>F: –ö–ª–∏–∫ "–í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ"
    F->>U: –ü–æ–∫–∞–∑–∞—Ç—å pricing page
    U->>F: –í—ã–±—Ä–∞—Ç—å "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª (–≥–æ–¥)"
    F->>U: –ü–æ–∫–∞–∑–∞—Ç—å checkout —Å—Ç—Ä–∞–Ω–∏—Ü—É
    
    U->>F: –í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥ (–æ–ø—Ü.)
    U->>F: –ö–ª–∏–∫ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ"
    
    F->>B: POST /api/subscriptions/checkout<br/>{plan: "pro", period: "yearly", promo: "WELCOME10"}
    
    B->>B: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–ª–∞–Ω–∞ –∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞
    B->>B: –°–æ–∑–¥–∞—Ç—å payment (status: pending)
    B->>Y: POST /v3/payments<br/>{amount: 44910, confirmation: {type: "redirect"}}
    
    Y-->>B: {id, confirmation_url, status: pending}
    B->>B: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å yookassa_payment_id
    B-->>F: {payment_id, redirect_url}
    
    F->>U: –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ YooKassa
    
    Note over U,Y: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç<br/>–¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã, –ø—Ä–æ—Ö–æ–¥–∏—Ç 3DS
    
    Y->>Y: –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞
    
    alt –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
        Y->>W: POST /webhooks/yookassa<br/>{event: "payment.succeeded"}
        W->>W: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ webhook
        W->>B: UPDATE payment (status: succeeded)
        W->>B: UPDATE subscription (status: active)
        W->>E: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ–∫ + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
        W->>B: –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏
        W-->>Y: 200 OK
        
        Y->>U: –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ callback_url
        U->>F: GET /payments/callback?payment_id=xxx
        F->>B: GET /api/payments/{id}/status
        
        alt Webhook –ø—Ä–∏—à–µ–ª –≤–æ–≤—Ä–µ–º—è
            B-->>F: {status: "succeeded"}
            F->>U: –ü–æ–∫–∞–∑–∞—Ç—å success screen
        else Webhook –Ω–µ –ø—Ä–∏—à–µ–ª - fallback
            B-->>F: {status: "pending"}
            F->>Y: GET /v3/payments/{id} (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞)
            Y-->>F: {status: "succeeded"}
            F->>B: PATCH /api/payments/{id}/confirm
            B->>B: –û–±–Ω–æ–≤–∏—Ç—å –ø–ª–∞—Ç–µ–∂ –∏ –ø–æ–¥–ø–∏—Å–∫—É
            B-->>F: {status: "succeeded"}
            F->>U: –ü–æ–∫–∞–∑–∞—Ç—å success screen
        end
        
        F->>U: –†–µ–¥–∏—Ä–µ–∫—Ç –≤ —Å–∏—Å—Ç–µ–º—É —á–µ—Ä–µ–∑ 3 —Å–µ–∫
    else –û—Ç–∫–ª–æ–Ω–µ–Ω–∞ –æ–ø–ª–∞—Ç–∞
        Y->>W: POST /webhooks/yookassa<br/>{event: "payment.canceled"}
        W->>B: UPDATE payment (status: failed)
        W->>E: Email –æ–± –æ—à–∏–±–∫–µ
        W-->>Y: 200 OK
        
        Y->>U: –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ callback_url
        U->>F: GET /payments/callback?payment_id=xxx
        F->>B: GET /api/payments/{id}/status
        B-->>F: {status: "failed", error: "..."}
        F->>U: –ü–æ–∫–∞–∑–∞—Ç—å error screen
    end
    
    Note over B,E: **Fallback –º–µ—Ö–∞–Ω–∏–∑–º:** –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω<br/>cron –ø—Ä–æ–≤–µ—Ä—è–µ—Ç pending –ø–ª–∞—Ç–µ–∂–∏<br/>—á–µ—Ä–µ–∑ YooKassa API
```

### 3. –û–∫–æ–Ω—á–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ (–±–µ–∑ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è)

```mermaid
sequenceDiagram
    participant C as Cron Jobs
    participant B as Backend
    participant E as Email Service
    participant U as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant F as Frontend
    
    Note over C,U: –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –¥–æ 30.09.2026
    
    rect rgb(66, 0, 6)
        Note over C,E: –ó–∞ 3 –¥–Ω—è (27.09.2026)
        C->>B: SELECT subscriptions<br/>WHERE current_period_end = NOW() + 3 days
        B->>E: Email: "–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏"
        E->>U: –ü–æ–ª—É—á–∏—Ç—å email
        F->>U: –ö—Ä–∞—Å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä: "üî¥ 3 –¥–Ω—è –¥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏"
    end
    
    rect rgb(66, 0, 6)
        Note over C,E: –í –¥–µ–Ω—å –æ–∫–æ–Ω—á–∞–Ω–∏—è (30.09.2026)
        C->>B: SELECT subscriptions<br/>WHERE current_period_end = CURRENT_DATE
        B->>E: Email: "–°–µ–≥–æ–¥–Ω—è –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å"
        E->>U: –ü–æ–ª—É—á–∏—Ç—å —Å—Ä–æ—á–Ω—ã–π email
    end
    
    alt –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è
        U->>F: –ö–ª–∏–∫ "–ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
        Note over U,E: –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã<br/>(—Å–º. –¥–∏–∞–≥—Ä–∞–º–º—É ‚Ññ2)
        B->>B: UPDATE subscription<br/>(–ø—Ä–æ–¥–ª–∏—Ç—å –Ω–∞ –Ω–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥)
    else –ù–µ –æ–ø–ª–∞—Ç–∏–ª - –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è Grace Period
        rect rgb(66, 0, 6)
            Note over C,B: 01.10.2026 00:00
            C->>B: UPDATE subscription<br/>status = 'expired'<br/>access_level = 'limited'<br/>grace_period_ends_at = +7 days
            B->>E: Email: "–ü–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞. 7 –¥–Ω–µ–π –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞"
            E->>U: –ü–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            B->>F: –ü–æ–∫–∞–∑–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º
            
            Note over U,F: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º Grace Period:<br/>‚úì –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö<br/>‚úì –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤/–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π<br/>‚úì –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∫ –∫–ª–∏–µ–Ω—Ç–∞–º<br/>‚úó –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤<br/>‚úó –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π<br/>‚úó –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
        end
        
        rect rgb(66, 0, 6)
            Note over C,B: 08.10.2026 - –∫–æ–Ω–µ—Ü Grace Period
            C->>B: UPDATE subscription<br/>status = 'suspended'<br/>access_level = 'read_only'
            B->>E: Email: "–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–æ read-only"
            E->>U: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
            
            Note over U,F: Read-only —Ä–µ–∂–∏–º:<br/>‚úì –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö<br/>‚úì –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö<br/>‚úó –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è<br/>–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è 60 –¥–Ω–µ–π
        end
        
        rect rgb(66, 66, 6)
            Note over C,B: 07.12.2026 - —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            C->>B: UPDATE subscription<br/>status = 'deleted'
            B->>B: –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è/—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            B->>E: Email: "–î–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã"
        end
    end
```

### 4. –ê–ø–≥—Ä–µ–π–¥ —Ç–∞—Ä–∏—Ñ–∞ —Å –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ—Ä–∞—Å—á–µ—Ç–æ–º

```mermaid
sequenceDiagram
    participant U as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant F as Frontend
    participant B as Backend
    participant Y as YooKassa API
    
    Note over U: –¢–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ:<br/>–°—Ç–∞—Ä—Ç–æ–≤—ã–π (–º–µ—Å—è—Ü) - 1990‚ÇΩ<br/>–û–ø–ª–∞—á–µ–Ω–æ –¥–æ 30.10.2025<br/>–ü—Ä–æ—à–ª–æ 15 –¥–Ω–µ–π –∏–∑ 30
    
    U->>F: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–æ–¥–ø–∏—Å–∫–∞
    U->>F: –ö–ª–∏–∫ "–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ"
    F->>U: –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã
    
    U->>F: –í—ã–±—Ä–∞—Ç—å "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª (–º–µ—Å—è—Ü)"
    F->>B: POST /api/subscriptions/upgrade<br/>{new_plan: "pro", period: "monthly"}
    
    B->>B: –†–∞—Å—á–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏:<br/>–ù–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞ = 1990 / 30 * 15 = 995‚ÇΩ<br/>–ù–æ–≤—ã–π —Ç–∞—Ä–∏—Ñ –∑–∞ 15 –¥–Ω–µ–π = 4990 / 30 * 15 = 2495‚ÇΩ<br/>–ö –æ–ø–ª–∞—Ç–µ = 2495 - 995 = 1500‚ÇΩ
    
    B-->>F: {upgrade_id, amount_due: 1500,<br/>calculation: {...}, redirect_url}
    
    F->>U: –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å—á–µ—Ç –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    
    U->>F: –ö–ª–∏–∫ "–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ 1500‚ÇΩ"
    F->>B: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–ø–≥—Ä–µ–π–¥–∞
    
    B->>B: –°–æ–∑–¥–∞—Ç—å payment (amount: 1500)
    B->>Y: POST /v3/payments {amount: 1500}
    Y-->>B: {confirmation_url}
    B-->>F: {redirect_url}
    
    F->>U: –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ YooKassa
    
    Note over U,Y: –û–ø–ª–∞—Ç–∞ 1500‚ÇΩ
    
    Y->>B: Webhook: payment.succeeded
    
    B->>B: UPDATE subscription:<br/>plan_id = 'pro'<br/>billing_amount = 4990<br/>// current_period_end –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è (30.10)
    
    B->>B: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ª–∏–º–∏—Ç–æ–≤ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
    B->>F: Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–¢–∞—Ä–∏—Ñ –∏–∑–º–µ–Ω–µ–Ω"
    B->>U: Email: "–ê–ø–≥—Ä–µ–π–¥ —É—Å–ø–µ—à–µ–Ω"
    
    Note over U,B: –°–ª–µ–¥—É—é—â–∏–π –ø–ª–∞—Ç–µ–∂:<br/>30.10.2025 - 4990‚ÇΩ
```

### 5. –î–∞—É–Ω–≥—Ä–µ–π–¥ —Ç–∞—Ä–∏—Ñ–∞ (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

```mermaid
sequenceDiagram
    participant U as –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    participant F as Frontend
    participant B as Backend
    participant C as Cron Jobs
    participant E as Email Service
    
    Note over U: –¢–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ:<br/>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª (–≥–æ–¥) - 49900‚ÇΩ<br/>–û–ø–ª–∞—á–µ–Ω–æ –¥–æ 30.06.2026<br/>–û—Å—Ç–∞–ª–æ—Å—å 9 –º–µ—Å—è—Ü–µ–≤
    
    U->>F: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–æ–¥–ø–∏—Å–∫–∞
    U->>F: –ö–ª–∏–∫ "–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ"
    F->>U: –ü–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã
    
    U->>F: –í—ã–±—Ä–∞—Ç—å "–°—Ç–∞—Ä—Ç–æ–≤—ã–π (–º–µ—Å—è—Ü)"
    F->>B: POST /api/subscriptions/downgrade/check<br/>{new_plan: "starter", period: "monthly"}
    
    B->>B: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ usage:<br/>‚Ä¢ 8 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ª–∏–º–∏—Ç –Ω–æ–≤–æ–≥–æ: 3)<br/>‚Ä¢ 245 –∫–ª–∏–µ–Ω—Ç–æ–≤ (–ª–∏–º–∏—Ç: 100)
    
    B-->>F: {can_downgrade: false,<br/>blocking_issues: [...]}<br/>
    
    F->>U: ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:<br/>"–î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"<br/>"–ê—Ä—Ö–∏–≤–∏—Ä—É–π—Ç–µ 145 –∫–ª–∏–µ–Ω—Ç–æ–≤"<br/><br/>üí∞ –í–æ–∑–≤—Ä–∞—Ç –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è<br/>–ü–µ—Ä–µ—Ö–æ–¥ —Å 01.07.2026
    
    U->>F: –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ª–∏—à–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    U->>F: –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤
    
    U->>F: –ö–ª–∏–∫ "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥"
    F->>B: POST /api/subscriptions/downgrade/schedule
    
    B->>B: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
    B->>B: INSERT scheduled_subscription_changes:<br/>effective_date = current_period_end + 1 day
    
    B-->>F: {scheduled_change_id, effective_date}
    B->>E: Email: "–î–∞—É–Ω–≥—Ä–µ–π–¥ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –Ω–∞ 01.07.2026"
    
    F->>U: ‚úì "–ü–µ—Ä–µ—Ö–æ–¥ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω"<br/>[–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ]
    
    Note over U,C: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å<br/>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª –¥–æ 30.06.2026<br/>–í—Å–µ –¥–∞—Ç—ã: –ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è (MSK, UTC+3)
    
    rect rgb(66, 66, 6)
        Note over C,E: 01.07.2026 –≤ 01:00
        C->>B: SELECT scheduled_subscription_changes<br/>WHERE effective_date = CURRENT_DATE
        
        C->>B: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
        
        alt –õ–∏–º–∏—Ç—ã —Å–æ–±–ª—é–¥–µ–Ω—ã
            B->>B: UPDATE subscription:<br/>plan_id = 'starter'<br/>billing_period = 'monthly'<br/>billing_amount = 1990
            
            B->>B: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–æ–≤—ã–µ –ª–∏–º–∏—Ç—ã
            B->>E: Email: "–¢–∞—Ä–∏—Ñ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –°—Ç–∞—Ä—Ç–æ–≤—ã–π"
            B->>E: Email: "–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ–± –æ–ø–ª–∞—Ç–µ"
            B->>F: –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–º–µ–Ω–µ —Ç–∞—Ä–∏—Ñ–∞
        else –õ–∏–º–∏—Ç—ã –ø—Ä–µ–≤—ã—à–µ–Ω—ã
            B->>B: UPDATE scheduled_change<br/>status = 'cancelled'
            B->>E: Email: "–î–∞—É–Ω–≥—Ä–µ–π–¥ –æ—Ç–º–µ–Ω–µ–Ω.<br/>–ü—Ä–µ–≤—ã—à–µ–Ω—ã –ª–∏–º–∏—Ç—ã."
            B->>F: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–º–µ–Ω–µ
            Note over B: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è<br/>–Ω–∞ —Å—Ç–∞—Ä–æ–º —Ç–∞—Ä–∏—Ñ–µ
        end
    end
```

### 7. –°—Ç–∞—Ç—É—Å—ã –ø–æ–¥–ø–∏—Å–∫–∏ (State Machine)

```mermaid
stateDiagram-v2
    [*] --> trial: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
    
    trial --> active: –û–ø–ª–∞—Ç–∞ –ª—é–±–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞
    trial --> expired: Trial –∏—Å—Ç–µ–∫,<br/>–Ω–µ –æ–ø–ª–∞—Ç–∏–ª
    
    active --> active: –£—Å–ø–µ—à–Ω–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
    active --> expired: –ü–µ—Ä–∏–æ–¥ –∏—Å—Ç–µ–∫,<br/>–Ω–µ –ø—Ä–æ–¥–ª–∏–ª
    active --> suspended: –ü–µ—Ä–µ—Ö–æ–¥ –≤ read-only<br/>(–ø–æ—Å–ª–µ grace period)
    
    expired --> active: –û–ø–ª–∞—Ç–∞ –≤ grace period
    expired --> suspended: Grace period –∏—Å—Ç–µ–∫<br/>(7 –¥–Ω–µ–π)
    
    suspended --> active: –û–ø–ª–∞—Ç–∞ –∏<br/>–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    suspended --> deleted: –ü—Ä–æ—à–ª–æ 60 –¥–Ω–µ–π<br/>–±–µ–∑ –æ–ø–ª–∞—Ç—ã
    
    deleted --> [*]
    
    note right of trial
        14 –¥–Ω–µ–π
        –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ VIP
        –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
    end note
    
    note right of active
        –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
        –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞—Ä–∏—Ñ–∞
    end note
    
    note right of expired
        Grace Period: 7 –¥–Ω–µ–π
        –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
        –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤–æ–µ
    end note
    
    note right of suspended
        Read-only —Ä–µ–∂–∏–º
        –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è 60 –¥–Ω–µ–π
        –ú–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
    end note
    
    note right of deleted
        –î–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã
        –ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è
        –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
    end note
```

---

## –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### UC-1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç—Ä–∏–∞–ª–æ–º

**–ê–∫—Ç–æ—Ä:** –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–≤–ª–∞–¥–µ–ª–µ—Ü event-–∞–≥–µ–Ω—Ç—Å—Ç–≤–∞)

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –ª–µ–Ω–¥–∏–Ω–≥–µ AniCRM

**–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç "–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
2. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (email, –ø–∞—Ä–æ–ª—å, –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏)
3. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –≤ —Å–∏—Å—Ç–µ–º—É
4. –ü—Ä–æ—Ö–æ–¥–∏—Ç –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ —Å —Ç—É—Ä–æ–º –ø–æ —Å–∏—Å—Ç–µ–º–µ
5. –ü–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –Ω–∞ 14 –¥–Ω–µ–π (—Ç–∞—Ä–∏—Ñ "VIP")
6. –ü–æ–ª—É—á–∞–µ—Ç –ø–∏—Å—å–º–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**

- –°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ workspace
- –ê–∫—Ç–∏–≤–µ–Ω —Ç—Ä–∏–∞–ª –Ω–∞ 14 –¥–Ω–µ–π
- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∫–æ–Ω—Ü–µ —Ç—Ä–∏–∞–ª–∞

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**

- **1a.** Email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–æ–π—Ç–∏
- **1b.** –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email ‚Üí –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **6a.** –ù–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª email –∑–∞ 24 —á–∞—Å–∞ ‚Üí –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–∏—Å—å–º–æ (–±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–∞)

**–í–∞–∂–Ω–æ:** –í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ (MSK, UTC+3).

---

### UC-2: –í—ã–±–æ—Ä –∏ –æ–ø–ª–∞—Ç–∞ —Ç–∞—Ä–∏—Ñ–∞ –ø–æ—Å–ª–µ —Ç—Ä–∏–∞–ª–∞

**–ê–∫—Ç–æ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Ç—Ä–∏–∞–ª–µ

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**

- –¢—Ä–∏–∞–ª –∞–∫—Ç–∏–≤–µ–Ω
- –û—Å—Ç–∞–ª–æ—Å—å –º–µ–Ω–µ–µ 3 –¥–Ω–µ–π –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è

**–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç email "–¢—Ä–∏–∞–ª –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 –¥–Ω—è"
2. –í–∏–¥–∏—Ç –±–∞–Ω–Ω–µ—Ä –≤ —Å–∏—Å—Ç–µ–º–µ "Trial: –æ—Å—Ç–∞–ª–æ—Å—å 3 –¥–Ω—è"
3. –ö–ª–∏–∫–∞–µ—Ç "–í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ"
4. –í—ã–±–∏—Ä–∞–µ—Ç –ø–µ—Ä–∏–æ–¥ –æ–ø–ª–∞—Ç—ã (–º–µ—Å—è—Ü/–≥–æ–¥)
5. –í—ã–±–∏—Ä–∞–µ—Ç —Ç–∞—Ä–∏—Ñ "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª (–≥–æ–¥)"
6. –í–∏–¥–∏—Ç checkout —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ä–∞—Å—á–µ—Ç–æ–º (49 900‚ÇΩ)
7. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–æ–º–æ–∫–æ–¥ WELCOME10 (-4 990‚ÇΩ)
8. –ö–ª–∏–∫–∞–µ—Ç "–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ"
9. –†–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É YooKassa
10. –í–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã, –ø—Ä–æ—Ö–æ–¥–∏—Ç 3DS
11. –£—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç
12. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ callback —Å—Ç—Ä–∞–Ω–∏—Ü—É
13. –í–∏–¥–∏—Ç success screen "–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ"
14. –ü–æ–ª—É—á–∞–µ—Ç email —Å —á–µ–∫–æ–º
15. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π —Ç–∞—Ä–∏—Ñ

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**

- –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –¢—Ä–∏–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω
- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏

---

### UC-3: –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –∏—Å—Ç–µ–∫–∞—é—â–µ–π –ø–æ–¥–ø–∏—Å–∫–∏

**–ê–∫—Ç–æ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**

- –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞
- –î–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ—Å—Ç–∞–ª–æ—Å—å 7 –¥–Ω–µ–π

**–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç email "–ü–æ–¥–ø–∏—Å–∫–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π"
2. –í–∏–¥–∏—Ç –±–∞–Ω–Ω–µ—Ä –≤ —Å–∏—Å—Ç–µ–º–µ "‚ö†Ô∏è –ü–æ–¥–ø–∏—Å–∫–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π"
3. –ö–ª–∏–∫–∞–µ—Ç "–ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É"
4. –ü–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—ã–±–æ—Ä–∞ —Ç–∞—Ä–∏—Ñ–∞
5. –ú–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å —Ç–æ—Ç –∂–µ —Ç–∞—Ä–∏—Ñ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å
6. –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–µ—Ä–∏–æ–¥ –æ–ø–ª–∞—Ç—ã (–º–µ—Å—è—Ü ‚Üî –≥–æ–¥)
7. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≤—ã–±–æ—Ä
8. –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ YooKassa
9. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã –ø–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**

- –ü–æ–¥–ø–∏—Å–∫–∞ –ø—Ä–æ–¥–ª–µ–Ω–∞ –Ω–∞ –Ω–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥
- –ù–æ–≤—ã–π —Å—Ä–æ–∫ –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω—ã –Ω–æ–≤—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

---

### UC-4: –ê–ø–≥—Ä–µ–π–¥ —Ç–∞—Ä–∏—Ñ–∞ —Å –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ—Ä–∞—Å—á–µ—Ç–æ–º

**–ê–∫—Ç–æ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Ç–∞—Ä–∏—Ñ–µ "–°—Ç–∞—Ä—Ç–æ–≤—ã–π"

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**

- –ê–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ "–°—Ç–∞—Ä—Ç–æ–≤—ã–π (–º–µ—Å—è—Ü)"
- –î–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ –æ—Å—Ç–∞–ª–æ—Å—å 15 –¥–Ω–µ–π

**–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (3/3)"
2. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–æ–¥–ø–∏—Å–∫–∞"
3. –ö–ª–∏–∫–∞–µ—Ç "–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ"
4. –í—ã–±–∏—Ä–∞–µ—Ç "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª (–º–µ—Å—è—Ü)"
5. –í–∏–¥–∏—Ç —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏:
    - –ù–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞: 995‚ÇΩ (15 –¥–Ω–µ–π –∏–∑ 30)
    - –°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–æ–≤–æ–≥–æ –∑–∞ 15 –¥–Ω–µ–π: 2 495‚ÇΩ
    - –ö –æ–ø–ª–∞—Ç–µ: 1 500‚ÇΩ
6. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∞–ø–≥—Ä–µ–π–¥
7. –û–ø–ª–∞—á–∏–≤–∞–µ—Ç 1 500‚ÇΩ —á–µ—Ä–µ–∑ YooKassa
8. –¢–∞—Ä–∏—Ñ –º–µ–Ω—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
9. –ù–æ–≤—ã–µ –ª–∏–º–∏—Ç—ã –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è —Å—Ä–∞–∑—É
10. –ü–æ–ª—É—á–∞–µ—Ç email —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**

- –ü–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª"
- –õ–∏–º–∏—Ç—ã —É–≤–µ–ª–∏—á–µ–Ω—ã
- –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
- –°–ª–µ–¥—É—é—â–∏–π –ø–ª–∞—Ç–µ–∂: –ø–æ–ª–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–æ–≤–æ–≥–æ —Ç–∞—Ä–∏—Ñ–∞

---

### UC-5: –î–∞—É–Ω–≥—Ä–µ–π–¥ —Ç–∞—Ä–∏—Ñ–∞ (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)

**–ê–∫—Ç–æ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Ç–∞—Ä–∏—Ñ–µ "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª (–≥–æ–¥)"

**–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**

- –ì–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –æ–ø–ª–∞—á–µ–Ω–∞
- –û—Å—Ç–∞–ª–æ—Å—å 9 –º–µ—Å—è—Ü–µ–≤

**–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–æ–¥–ø–∏—Å–∫–∞"
2. –ö–ª–∏–∫–∞–µ—Ç "–ò–∑–º–µ–Ω–∏—Ç—å —Ç–∞—Ä–∏—Ñ"
3. –í—ã–±–∏—Ä–∞–µ—Ç "–°—Ç–∞—Ä—Ç–æ–≤—ã–π (–º–µ—Å—è—Ü)"
4. –í–∏–¥–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ—Ç–µ—Ä–µ —Ñ—É–Ω–∫—Ü–∏–π –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏
5. –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. –ê—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç 145 –∫–ª–∏–µ–Ω—Ç–æ–≤
7. –ö–ª–∏–∫–∞–µ—Ç "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥"
8. –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –¥–∞—É–Ω–≥—Ä–µ–π–¥ –Ω–∞ –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π –ø–æ–¥–ø–∏—Å–∫–∏
9. –ü–æ–ª—É—á–∞–µ—Ç email —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º

**–í –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**

10. Cron job –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ª–∏–º–∏—Ç–∞–º
11. –ï—Å–ª–∏ OK ‚Üí –ø—Ä–∏–º–µ–Ω—è–µ—Ç –¥–∞—É–Ω–≥—Ä–µ–π–¥
12. –ï—Å–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω—ã –ª–∏–º–∏—Ç—ã ‚Üí –æ—Ç–º–µ–Ω—è–µ—Ç –¥–∞—É–Ω–≥—Ä–µ–π–¥

**–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è:**

- –î–∞—É–Ω–≥—Ä–µ–π–¥ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

---